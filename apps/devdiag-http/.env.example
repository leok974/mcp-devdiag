# DevDiag HTTP Server Configuration
# Copy to .env for local development

# JWT Authentication (optional - leave empty for local dev)
JWKS_URL=
# JWKS_URL=https://YOUR-IDP/.well-known/jwks.json
JWT_AUD=mcp-devdiag

# CORS Origins (comma-separated)
ALLOWED_ORIGINS=http://127.0.0.1:19010,http://localhost:19010

# Rate Limiting
RATE_LIMIT_RPS=2

# SSRF Protection
ALLOW_PRIVATE_IP=0

# Server-side Host Allowlist for Target URLs
# Supports: exact hosts, .domain.com (subdomains), pr-*.domain.com (globs)
# Empty = allow all (NOT recommended for production)
ALLOW_TARGET_HOSTS=.ledger-mind.org,app.ledger-mind.org
# Examples:
# ALLOW_TARGET_HOSTS=.ledger-mind.org  # allows all *.ledger-mind.org + apex
# ALLOW_TARGET_HOSTS=app.example.com,staging.example.com  # exact hosts
# ALLOW_TARGET_HOSTS=pr-*.example.com  # glob pattern for preview envs

# CLI Configuration
DEVDIAG_CLI=mcp-devdiag
DEVDIAG_TIMEOUT_S=180

# Concurrency Control
MAX_CONCURRENT=2
