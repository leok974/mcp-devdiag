# Auth
JWKS_URL=https://auth.leoklemet.com/.well-known/jwks.json
JWT_AUD=mcp-devdiag

# Security
ALLOW_PRIVATE_IP=0
RATE_LIMIT_RPS=2
MAX_CONCURRENT=2

# Target allowlist (server-side, defense-in-depth)
# Supports exact, leading-dot (.domain.com), and glob (pr-*.domain.com)
ALLOW_TARGET_HOSTS=.ledger-mind.org,app.ledger-mind.org,api.ledger-mind.org,.applylens.app,applylens.app,api.applylens.app,.leoklemet.com,www.leoklemet.com

# Per-tenant policy (optional but recommended)
# Prevents misrouted requests from inspecting other brands
TENANT_ALLOW_HOSTS_JSON={"applylens":["applylens.app",".applylens.app","api.applylens.app"],"ledgermind":[".ledger-mind.org","app.ledger-mind.org","api.ledger-mind.org"],"portfolio":[".leoklemet.com","www.leoklemet.com"]}

# CLI/timeout
DEVDIAG_CLI=mcp-devdiag
DEVDIAG_TIMEOUT_S=180

# CORS for your backends (same-origin frontends don't hit this directly)
ALLOWED_ORIGINS=https://applylens.app,https://app.ledger-mind.org,https://www.leoklemet.com
